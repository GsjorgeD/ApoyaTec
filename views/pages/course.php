<?php
require_once '../../controllers/userController.php';
require_once '../../controllers/courseController.php';
require_once '../../controllers/sectionController.php';
require_once '../../controllers/classController.php';

$userController = new UserController();
$userController->headPages('Curso');

$sectionController = new SectionController();
$courseController = new CourseController();
?>

<?php
$course = $courseController->getCourseData($_GET['id']);
$courseController->bannerCourse($course);
?>

<main class="main">
    <style>
        .course-details {
            background-color: var(--color-bg-secondary);
            border-radius: var(--border-radius);
        }

        .course-details-item {
            padding: 0.5rem;
        }

        .course-details-title {
            font-size: var(--font-size-normal);
            height: calc(var(--font-size-normal)*2);
        }

        .course-details p {
            font-size: var(--font-size-small);
            /* text-align: center; */
        }
    </style>

    <!-- Detalles del curso -->
    <section class="ed-grid s-grid-1 m-grid-3">
        <article class="course-details m-cols-2 ed-grid s-grid-3 s-pxy-1">
            <div class="course-details-item">
                <h4 class="course-details-title s-center">Aprendizajes esperados</h4>
                <?php
                $listObjectives = explode(',', $course->objective);
                foreach ($listObjectives as $item) {
                    $temp = trim($item);
                    echo '<p>◼ ' . $temp . '</p>';
                }
                ?>
            </div>
            <div class="course-details-item">
                <h4 class="course-details-title s-center">Conocimientos previos necesarios</h4>
                <div>
                    <?php
                    $listKnows = explode(',', $course->knowledge);
                    foreach ($listKnows as $item) {
                        $temp = trim($item);
                        echo '<p>◼ ' . $temp . '</p>';
                    }
                    ?>
                </div>
            </div>
            <div class="course-details-item">
                <h4 class="course-details-title s-center">Público objetivo</h4>
                <?php
                $listTarget = explode(',', $course->target);
                foreach ($listTarget as $item) {
                    $temp = trim($item);
                    echo '<p>◼ ' . $temp . '</p>';
                }
                ?>
            </div>
        </article>
        <div class="from-m s-main-center s-cross-center">
            <svg width="266" height="251" viewBox="0 0 266 251" fill="none" xmlns="http://www.w3.org/2000/svg">
                <ellipse cx="117.562" cy="219.312" rx="78.125" ry="23.4375" fill="#CCCCCC" fill-opacity="0.5" />
                <path d="M15.9283 118.494C22.4236 114.479 24.7527 108.729 27.8363 103.3C32.3961 95.3016 37.6121 87.6563 42.7952 80.0431C44.1402 78.0515 44.4354 76.7345 42.9264 74.7428C38.5634 68.9928 35.8078 62.5682 35.3486 55.3084C34.7909 46.0249 39.5803 42.3949 48.7984 44.7078C55.8514 46.4746 63.0356 47.7595 70.1869 49.1729C74.2547 49.976 77.5023 48.3056 80.8156 45.2218C78.9129 44.3223 77.3055 43.7441 75.9277 42.8125C75.0748 42.2022 74.1235 41.0779 74.1235 40.1463C74.1235 39.279 75.1404 37.8656 75.9933 37.6407C79.2082 36.8055 82.6199 35.5849 85.8347 35.874C90.9522 36.3558 95.9713 37.9298 101.023 39.022C101.646 39.1505 102.237 39.2469 103.451 39.4396C103.451 36.7734 103.287 34.3642 103.516 31.9871C103.68 30.0918 104.14 28.1966 104.829 26.3977C105.911 23.4424 108.142 23.1533 110.176 25.5625C112.636 28.4214 115.26 31.1519 117.491 34.1393C120.64 38.3796 125.266 39.3433 130.055 40.5318C135.927 41.9773 142.094 43.4229 147.212 46.3782C152.887 49.6548 158.07 49.0765 163.745 47.7595C168.83 46.5709 173.915 45.3181 179.032 44.3866C186.676 43.0053 190.35 46.2497 190.35 53.9271C190.35 60.7693 188.152 66.9691 184.248 72.5264C182.542 74.9677 182.018 76.7024 184.248 79.1758C186.741 81.9384 188.644 85.1828 191.104 88.6842C192.056 87.3993 192.613 86.4035 193.368 85.6004C198.551 79.8825 203.701 74.1325 208.95 68.4788C210.918 66.3587 213.116 65.8126 215.15 68.511C218.07 64.335 220.563 60.0947 223.712 56.4006C232.602 45.8964 243.821 38.8935 257.566 36.0025C261.24 35.2315 263.143 36.5486 262.979 40.6924C262.684 47.7274 261.896 54.7302 261.273 61.733C261.175 62.761 260.945 63.7889 260.716 65.2665C264.554 63.9495 265.702 66.2302 265.735 68.8322C265.833 77.0236 266.259 85.2792 265.407 93.3742C263.602 110.56 259.502 127.232 251.727 142.876C240.639 165.169 225.319 183.993 204.259 198.031C194.155 204.777 183.494 210.109 171.126 211.555C170.044 211.683 168.83 212.39 168.043 213.161C160.662 220.357 151.411 223.537 141.438 225.079C125.823 227.488 110.11 227.488 94.4295 226.267C83.44 225.4 72.9425 222.573 64.7742 214.51C59.0006 208.792 55.6545 201.757 53.7847 194.08C49.5529 176.605 51.1931 159.773 60.2472 143.904C61.2313 142.169 61.0017 140.981 58.8694 140.691C53.391 139.92 47.9127 139.182 42.4015 138.571C40.3676 138.346 38.2682 138.571 36.2015 138.443C33.4131 138.282 32.6914 137.062 34.2332 134.717C35.1189 133.4 36.2343 132.115 37.5136 131.183C40.0396 129.352 39.2523 127.939 37.0216 126.975C31.4776 124.534 25.868 122.317 20.2585 120.036C19.2087 119.49 17.995 119.169 15.9283 118.494Z" fill="black" />
                <path d="M81.3483 40.7837C85.941 38.7921 90.0415 39.7558 93.7156 40.848C97.5209 41.9723 100.9 44.5421 104.541 46.341C105.558 46.8228 106.903 47.0477 107.953 46.8228C108.379 46.7265 108.773 45.0882 108.674 44.2209C108.215 39.82 107.592 35.4513 106.903 30.1831C108.51 30.9862 109.134 31.1468 109.527 31.5323C112.972 34.9373 116.121 38.6957 119.861 41.6832C121.796 43.2251 124.749 43.7712 127.373 44.1887C140.692 46.341 152.075 52.348 162.047 60.957C177.564 74.3844 188.619 91.0563 198.034 108.885C199.116 110.908 200.166 112.932 201.446 115.373C194.885 115.341 189.669 112.9 184.584 110.33C176.547 106.315 168.805 101.689 160.571 98.027C146.301 91.6666 131.966 92.2769 118.057 99.3119C115.006 100.854 112.545 101.207 109.265 99.5046C90.5664 89.675 72.6223 92.309 55.0063 102.717C47.1004 107.375 39.2274 112.257 30.0749 114.41C29.1892 114.635 28.2707 114.795 26.6304 115.149C28.9267 110.523 30.6982 106.443 32.9289 102.653C40.5067 89.8998 48.8063 77.5967 59.2381 66.8997C65.8318 60.1539 73.2784 54.4681 81.8076 50.1636C84.3007 48.9108 86.6627 47.5938 89.1558 50.4849C88.6965 45.827 85.3505 43.4499 81.3483 40.7837Z" fill="#ABABAB" />
                <path d="M115.533 223.466C105.79 222.727 97.9168 222.406 90.1421 221.474C72.4933 219.354 61.2414 208.657 57.6985 191.471C54.5493 176.084 55.8286 161.34 63.3081 147.27C65.3419 143.447 65.8012 143.222 69.4753 145.632C75.905 149.84 82.1706 154.273 88.5675 158.513C104.117 168.857 119.666 168.407 135.412 158.77C144.434 153.213 153.652 147.912 162.968 142.869C168.873 139.657 169.463 139.946 172.317 146.178C180.847 164.777 182.093 183.505 171.858 201.879C166.085 212.255 156.67 218.294 144.86 220.125C134.527 221.763 124.095 222.534 115.533 223.466Z" fill="#ABABAB" />
                <path d="M257.639 72.1968C259.706 70.2694 261.083 69.0167 262.428 67.7639C262.724 67.8602 263.052 67.9566 263.347 68.053C263.347 70.3337 263.511 72.6466 263.314 74.8952C262.691 81.8979 261.936 88.9329 261.149 95.9357C260.887 98.3449 255.113 103.035 252.686 102.81C252.095 102.746 251.308 101.846 251.144 101.204C250.684 99.437 250.586 97.606 250.225 95.8393C249.635 92.884 248.093 92.2736 245.665 94.0083C240.154 97.9273 240.154 97.9273 237.891 91.4706C236.414 87.1982 236.119 87.134 232.15 89.8323C230.641 90.8602 229.066 91.7597 227.328 92.8519C224.146 89.0613 226.147 84.5641 224.835 80.3239C223.785 80.9343 222.965 81.384 222.21 81.8979C220.701 82.9259 219.258 84.1144 217.683 85.046C212.303 88.2583 211.45 88.0013 209.023 82.4761C208.629 81.6088 208.268 80.7094 207.875 79.8421C206.53 76.9189 207.743 73.6424 210.761 72.6787C211.352 72.4859 212.598 73.1605 212.959 73.7709C213.911 75.4091 214.567 77.2401 215.584 79.6493C216.797 76.9189 217.814 74.606 218.831 72.2611C225.753 56.3281 238.153 46.3058 254.621 40.8128C258.295 39.5921 259.279 40.3309 259.05 44.0893C258.722 49.6144 258 55.1396 257.672 60.6968C257.442 64.1661 257.639 67.7639 257.639 72.1968Z" fill="#ABABAB" />
                <path d="M77.1788 145.531C96.3366 124.619 133.209 126.129 149.513 145.178C138.556 151.699 128.616 159.922 115.429 161.946C110.18 162.749 105.259 161.753 100.404 159.922C91.744 156.678 84.7238 150.928 77.1788 145.531ZM124.811 143.025C124.877 136.858 120.317 132.425 113.92 132.457C107.949 132.489 103.521 136.922 103.488 142.865C103.455 148.583 108.146 153.305 113.92 153.433C119.857 153.562 124.745 148.872 124.811 143.025Z" fill="#ABABAB" />
                <path d="M230.841 142.48C234.286 139.203 237.271 136.408 239.961 133.871C241.765 138.111 243.471 142.03 245.046 146.013C245.242 146.495 245.046 147.33 244.75 147.812C239.863 155.104 234.909 162.364 229.923 169.624C229.693 169.945 229.267 170.106 228.315 170.812C228.381 169.399 228.348 168.564 228.479 167.729C228.742 166.058 229.267 164.388 229.431 162.685C229.759 159.248 229.365 158.991 225.953 159.601C222.903 160.147 219.819 160.597 216.079 161.24C217.129 158.573 218.08 156.582 218.638 154.494C218.999 153.113 219.36 151.121 218.638 150.286C218.015 149.547 215.85 149.836 214.439 150.029C212.504 150.286 210.634 150.928 208.731 151.314C206.041 151.828 205.385 151.153 205.975 148.455C206.336 146.913 206.992 145.403 207.288 143.861C207.911 140.392 206.73 138.85 203.285 138.207C202.957 138.143 202.629 138.047 202.301 138.079C195.675 138.978 192.788 133.839 189.081 130.112C188.753 129.791 189.081 128.121 189.573 127.832C193.149 125.84 196.823 124.009 200.563 122.339C201.022 122.114 202.433 122.981 202.793 123.656C203.318 124.651 203.121 125.968 203.482 127.093C204.04 128.699 204.926 129.502 206.927 128.57C211.421 126.45 212.012 126.804 213.291 131.686C214.57 136.537 215.948 137.083 220.311 134.385C226.281 130.723 228.184 131.59 229.529 138.4C229.726 139.524 230.251 140.649 230.841 142.48Z" fill="#ABABAB" />
                <path d="M66.7475 53.0861C61.4332 58.6756 56.1844 64.0723 51.0997 69.5975C46.9992 74.0626 47.032 74.159 44.014 68.8586C41.2256 63.9438 39.3557 58.7398 39.5198 53.0219C39.651 49.1671 41.3568 47.5609 45.1293 48.2677C52.2807 49.6168 59.3665 51.2872 66.4851 52.8613C66.7803 52.9576 66.9771 53.2789 66.7475 53.0861Z" fill="#ABABAB" />
                <path d="M179.559 71.9731C173.195 65.0667 167.323 58.7063 161.451 52.3138C160.959 52.5708 160.467 52.8278 160.008 53.0848C160.828 52.7957 161.615 52.4102 162.435 52.2174C167.913 50.9646 173.457 49.8403 178.936 48.5233C183.988 47.3026 186.35 48.8124 186.284 53.8557C186.186 60.6337 183.791 66.6086 179.559 71.9731Z" fill="#ABABAB" />
                <path d="M200.795 190.636C200.893 194.298 199.876 196.643 196.924 198.025C189.674 201.462 182.424 204.931 175.175 208.336C174.65 208.561 173.994 208.465 172.878 208.593C174.519 205.638 176.323 203.164 177.307 200.434C179.242 195.134 180.62 189.673 182.392 184.308C182.818 183.023 183.605 181.642 184.655 180.871C185.442 180.293 187.214 180.132 187.968 180.614C188.592 181.031 188.624 182.734 188.395 183.794C186.787 192.114 186.755 192.082 195.317 190.925C197.055 190.701 198.761 190.765 200.795 190.636Z" fill="#ABABAB" />
                <path d="M149.192 130.407C155.983 122.216 156.508 115.727 151.226 110.298C146.601 105.544 139.482 104.934 134.004 108.789C127.771 113.19 127.246 119.421 132.364 128.512C128.296 127.581 124.95 121.317 125.376 115.342C125.934 107.086 132.036 101.079 140.762 100.212C148.011 99.5051 155.491 104.484 157.557 111.359C159.854 119.164 156.705 126.81 149.192 130.407Z" fill="white" />
                <path d="M94.0488 130.274C100.938 122.147 101.397 115.144 95.853 110.069C90.4403 105.122 82.9609 104.929 77.8435 109.619C71.7747 115.144 72.1684 121.569 79.0244 129.921C74.7599 129.76 69.708 122.051 69.9377 115.787C70.2329 108.013 75.9736 101.781 84.3387 100.432C91.6869 99.2758 99.8879 103.869 102.053 110.583C104.677 118.614 101.397 127.287 94.0488 130.274Z" fill="white" />
                <path d="M120.032 138.246C116.881 137.153 114.288 136.254 111.466 135.29C114.617 132.592 118.719 133.941 120.032 138.246Z" fill="white" />
                <path d="M81.5596 119.648C83.5898 119.648 85.2356 118.037 85.2356 116.05C85.2356 114.063 83.5898 112.452 81.5596 112.452C79.5293 112.452 77.8835 114.063 77.8835 116.05C77.8835 118.037 79.5293 119.648 81.5596 119.648Z" fill="white" />
                <path d="M138.236 117.911C140.266 117.911 141.912 116.3 141.912 114.313C141.912 112.326 140.266 110.715 138.236 110.715C136.206 110.715 134.56 112.326 134.56 114.313C134.56 116.3 136.206 117.911 138.236 117.911Z" fill="white" />
                <rect x="52.7266" y="13.6758" width="0.545" height="0.476562" fill="black" />
                <path d="M74.9092 189.199H9.90274C8.47402 189.199 7.33105 190.335 7.33105 191.756V238.915C7.33105 240.335 8.47402 241.471 9.90274 241.471H74.9092C76.3379 241.471 77.4809 240.335 77.4809 238.915V191.756C77.4809 190.335 76.3379 189.199 74.9092 189.199Z" fill="#3B4C56" />
                <path d="M74.9092 189.199H42.3345V241.614H74.9092C76.3379 241.614 77.4809 240.477 77.4809 239.057V191.756C77.4809 190.335 76.3379 189.199 74.9092 189.199Z" fill="#465C6A" />
                <path d="M71.3373 195.307H13.4744V235.363H71.3373V195.307Z" fill="#45BBDD" />
                <path d="M81.0529 242.182H3.75954C1.90221 242.182 0.330627 243.744 0.330627 245.591C0.330627 247.579 1.90221 249.142 3.75954 249.142H81.0529C82.9102 249.142 84.4818 247.579 84.4818 245.733C84.4818 243.744 83.0531 242.182 81.0529 242.182Z" fill="#465C6A" />
                <path d="M81.0527 242.182H42.3345V249.142H81.0527C82.91 249.142 84.4816 247.579 84.4816 245.733C84.4816 243.744 83.0529 242.182 81.0527 242.182Z" fill="#3B4C56" />
                <path d="M41.7631 199.852H20.6182V231.102H41.7631V199.852Z" fill="#E6E6E8" />
                <path d="M63.051 199.852H41.9061V231.102H63.051V199.852Z" fill="white" />
                <path d="M26.4759 207.665L25.7616 209.085H24.6186L27.476 202.693H28.619L31.4764 209.085H30.3334L29.6191 207.665H26.4759ZM29.3333 206.671L28.1904 203.972L27.0474 206.671H29.3333Z" fill="#E8664A" />
                <path d="M38.6197 211.216H24.1897V213.204H38.6197V211.216Z" fill="#1E87B7" />
                <path d="M59.622 205.392H45.192V208.659H59.622V205.392Z" fill="#6FAC43" />
                <path d="M59.622 211.216H45.192V213.204H59.622V211.216Z" fill="#1E87B7" />
                <path d="M59.622 215.761H45.192V217.75H59.622V215.761Z" fill="#1E87B7" />
                <path d="M59.622 220.307H45.192V222.295H59.622V220.307Z" fill="#1E87B7" />
                <path d="M59.622 224.853H45.192V226.841H59.622V224.853Z" fill="#1E87B7" />
                <path d="M38.6197 215.761H24.1897V217.75H38.6197V215.761Z" fill="#1E87B7" />
                <path d="M38.6197 220.307H24.1897V222.295H38.6197V220.307Z" fill="#1E87B7" />
                <path d="M38.6197 224.853H24.1897V226.841H38.6197V224.853Z" fill="#1E87B7" />
                <path d="M89.7679 158.233H45.7635C44.6205 158.233 43.7633 159.085 43.7633 160.222V196.301C43.7633 197.437 44.6205 198.29 45.7635 198.29H89.9107C91.0537 198.29 91.9109 197.437 91.9109 196.301V160.222C91.7681 159.085 90.9108 158.233 89.7679 158.233Z" fill="#E6E6E8" />
                <path d="M89.7678 158.233H67.7656V198.29H89.7678C90.9108 198.29 91.768 197.437 91.768 196.301V160.222C91.768 159.085 90.9108 158.233 89.7678 158.233Z" fill="#D4D8DB" />
                <path d="M86.0532 170.165H49.621V192.608H86.0532V170.165Z" fill="#3B4C56" />
                <path d="M67.9086 170.165H49.621V192.608H67.9086V170.165Z" fill="#465C6A" />
                <path d="M84.6244 188.205H50.9068V189.057H84.6244V188.205Z" fill="#E6E6E8" />
                <path d="M53.05 190.051H52.1928V191.614H53.05V190.051Z" fill="#E6E6E8" />
                <path d="M54.6215 190.051H53.7643V191.614H54.6215V190.051Z" fill="#E6E6E8" />
                <path d="M64.9082 175.705V184.369L71.766 180.108L64.9082 175.705Z" fill="#E6E6E8" />
                <path d="M89.7679 158.233H45.7635C44.6205 158.233 43.7633 159.085 43.7633 160.222V166.045H50.6211L50.9069 164.625C51.0497 164.199 51.3355 164.057 51.7641 164.057H59.1934C59.622 164.057 59.9078 164.341 60.0506 164.625L60.3364 166.045H91.7681V160.222C91.7681 159.085 90.9108 158.233 89.7679 158.233Z" fill="#A3CD44" />
                <path d="M89.7678 158.233H67.7656V165.903H91.768V160.222C91.768 159.085 90.9108 158.233 89.7678 158.233Z" fill="#6FAC43" />
                <path d="M86.6246 163.63C87.4137 163.63 88.0534 162.995 88.0534 162.21C88.0534 161.426 87.4137 160.79 86.6246 160.79C85.8356 160.79 85.1959 161.426 85.1959 162.21C85.1959 162.995 85.8356 163.63 86.6246 163.63Z" fill="#E6E6E8" />
                <path d="M82.0527 163.63C82.8418 163.63 83.4815 162.995 83.4815 162.21C83.4815 161.426 82.8418 160.79 82.0527 160.79C81.2637 160.79 80.624 161.426 80.624 162.21C80.624 162.995 81.2637 163.63 82.0527 163.63Z" fill="#E6E6E8" />
                <path d="M77.338 163.63C78.1271 163.63 78.7667 162.995 78.7667 162.21C78.7667 161.426 78.1271 160.79 77.338 160.79C76.549 160.79 75.9093 161.426 75.9093 162.21C75.9093 162.995 76.549 163.63 77.338 163.63Z" fill="#E6E6E8" />
                <path d="M59.5154 227.616L62.041 225.104L57.7979 220.886L55.2723 223.397L59.5154 227.616Z" fill="#3B4C56" />
                <path d="M59.6718 227.681L60.9851 226.375L56.742 222.157L55.4287 223.463L59.6718 227.681Z" fill="#465C6A" />
                <path d="M52.907 218.602L54.6214 226.841L56.7645 222.437L61.1935 220.165L52.907 218.602Z" fill="#3B4C56" />
                <path d="M56.7645 222.437L52.907 218.602L61.1935 220.165L56.7645 222.437Z" fill="#465C6A" />
            </svg>
        </div>
    </section>

    <!-- Temario y card de perfil -->
    <section class="ed-grid">
        <div class="ed-grid s-grid-1 m-grid-3">

            <div class="ed-grid s-cols-1 m-cols-2">
                <article class="accordion-container">
                    <div class="accordion-list ">
                        <?php
                        $sections = $sectionController->getAllSection($course->id);
                        foreach ($sections as $item) {
                            $sectionController->accordionItem($item, $course);
                        }
                        ?>
                    </div>
                </article>
            </div>

            <div>
                <article class="s-main-center">
                    <?php
                    $userController->cardProfile($course->user_id, 1);
                    ?>
                </article>
            </div>

        </div>
    </section>


</main>

<?php
$userController->footPages();
?>